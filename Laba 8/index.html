<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="utf-8" />
    <title>WebGL Demo</title>
    <link rel="stylesheet" href="./index.css" type="text/css" />
    <script src="https://webglfundamentals.org/webgl/resources/webgl-utils.js"></script>
    <!-- vertex shader -->
    <script id="vertex-shader-2d" type="x-shader/x-vertex">
      attribute vec2 a_position;
      attribute vec2 a_texCoord;

      uniform vec2 u_resolution;

      varying vec2 v_texCoord;

      float sgn(float x) {
        return (x > 0.0) ? 1.0 : ((x < 0.0) ? -1.0 : 0.0);
     }

      void main() {
         // convert the rectangle from pixels to 0.0 to 1.0
         vec2 zeroToOne = a_position / u_resolution;

         // convert from 0->1 to 0->2
         vec2 zeroToTwo = zeroToOne * 2.0;

         // convert from 0->2 to -1->+1 (clipspace)
         vec2 clipSpace = zeroToTwo - 1.0;

         gl_Position = vec4(clipSpace * vec2(1, -1), 0, 1);
         float Pi = 3.1415;
         float t = ((a_texCoord.x + a_texCoord.y) / 10000.0) * 137.5;

         float a = 1.0;

         v_texCoord = vec2(sgn(a) * abs(a) * sqrt(t) * cos(t), 
                           sgn(a) * abs(a) * sqrt(t) * sin(t));
      }
    </script>
    <!-- fragment shader -->
    <script id="fragment-shader-2d" type="x-shader/x-fragment">
      precision mediump float;
      uniform sampler2D u_image;

      varying vec2 v_texCoord;

      void main() {
         gl_FragColor = texture2D(u_image, v_texCoord);
      }
    </script>
    <script src="./index.js"></script>
  </head>

  <body onload="main()">
    <canvas id="canvas" width="640" height="480"></canvas>
  </body>
</html>
